# Open Grant Proposal

- **Project Name:** XPDiem Platform.
- **Team Name:** XPDiem.
- **Payment Address:** .

## Project Overview

### Overview

XPDiem aims to build a platform which allows to develop NFT based applications on Diem blockchain and connect the resulting applications to Polkadot. This platform will enable artists, musicians, celebrities, game developers and other content providers to create personal online NFT marketplaces without writing code.

Diem's development team crafted the Move language for smart contract creation. By contrast with Ethereum's smart contracts, data and potentially reusable code are splitted into resources and modules respectively, giving it additional security and flexibility. However, the Move language is currently not very popular. Its documentation can be vague or missing when covering some topics. It's standard library is very basic and short. NFT creation protocols are not implemented.

We are aspiring to create an automated toolbox that will generate valid code in Move, which could be further validated and compiled to byte-code and interact with the Diem blockchain. We will write the currently nonexistent libraries for NFT creation in Move, meeting the ERC-721 and ERC-1155 standards.

Connection to Polkadot will be implemented via a VM Hub Layer Substrate palette, where our auto generated code in Move will be processed. All the applications produced by our platform will use this pallet to interact with other blockchains and smart contracts via Polkadot.

### Project Details

Let's discuss the "building blocks" of the XPDiem platform one by one.

1. **Visual Smart Contract Editor** is a no-code UI tool that allows to generate valid human readable code in Move. In this UI a user selects an NFT use case and provides business specific details. When all the settings are done, the UI sends JSON formatted requests to the Backend. The backend reads, sanitizes and validates the JSON requests, then it generates “intentions” that contain the types of code elements that must be generated as well as the data they should be populated with and passes the “intentions” to the next platform tool called the Move VM and Compiler.
The Move code generated by the described above process is displayed in a human readable format in the code tab of the UI. This allows more experienced users to read and edit the code in Move. The window in the code tab is listening to the user generated events. Should a user edit and save a new version of code, a request is sent to the BE to modify the previously generated code with the new one. 

Since user-edited code can contain errors or may contradict some Diem Association policies all the code in Move is tested with the Compliance Validator tool of this platform. The code tab includes a “Validation Panel” which displays the results of the Code Validator’s checks and either confirms that the code is free from errors and is regulations compliant, or indicates the lines in code that contain errors alongside with suggestions of improvement.

Apart from code generation in Move, this UI enables the users to build the part of the application that can interact with other blockchains via Polkadot. A user selects from the list in the “Polkadot Interaction” tab the types of transactions with other blockchains that will be available to the resulting application, and populates the details with relevant data for each transaction. The results of the user’s choices will be sent to the BE of this tool in JSON format, where the Polkadot interaction module will be generated.

In order to interact with the Polkadot pallet for XPDiem, a user’s application must register. To ensure confidentiality and integrity, it can be done only from the “Polkadot Interaction” tab of this tool. 


2. **Move VM and Compiler** is a modified version of Diem's Move VM written in Rust. It consists of two parts: the Move Virtual Machine and the Move Compiler. 

The Move VM is based on the Diem Association Move-VM, but since Move does not have a standard library for working with NFTs, XPDiem’s NFT library for Move is an extension of the original Move-VM. It implements the ERC-721 and ERC-1155 protocols. Potentially other protocols could be added in the future.

XPDiem’s Move code Compiler generates code in Move from the “intentions”, coming from the Smart Contract Editor’s Backend. The Compiler contains:
a) a set of **Move code templates** in modules and scripts that can be populated with the data from the “intention” and 
b) a **decision tree** responsible for building the structure of the selected NFT use case. 

The resulting modules contain reusable parts of code and resources with data. The scripts contain transaction instructions and logic.


3. **Compliance Validator** is a kind of an automated QA tool for the generated code in Move. It also enforces the latest regulations issued by the Diem Association.

By default, the code generated by the XPDiem platform is error free and compliant with the regulations. However, since the option to manually modify the resulting code exists, this tool is invaluable in validating and reporting errors. The results of this tool’s findings can be found in the “Validation Panel” of the “Move Code” tab.


4. **Polkadot adaptor palette** or a VM Hub Layer is a Substrate pallet that allows different Virtual machines to interact with each other. The layer implements serialization and deserialization of data formats and the shared storage between different VMs. This enables calls between different VMs. For example, one could call a smart contract written in Solidity from a smart contract written in Move and vice versa. This adapter will allow our application to use the rich specter of smart contract libraries written in Solidity and run them in another virtual machine, for example in the Move-VM. 

5. **Application builder** consists of the UI and a Backend. While a user interacts with the UI it generates the UI and the BE of the future resulting application based on NFT.

Apart from utilizing the results of the Smart Contract Builder and the Compliance Validator, this tool builds a search engine optimized, high performance secure application. Here a user can choose how the future NFT marketplace,  NFT insurance company,  NFT bank, a museum or other available applications will look like.


6. Documentation and tutorials for the platform users.

### Ecosystem Fit

- Non developers will create personal NFT marketplaces on Diem blockchain, connected to Polkadot.
- Potentially the Polkadot Adapter can develop to become programming language independent.

## Team

### Team members

- Dmitry Briukhanov - CTO.
- Virbal Kint - Expert in Move, Rust & Co-Founder


### Contact

- **Contact Name:** Dmitry Briukhanov
- **Contact Email:** dima@safepress.com
- https://xpdiem.com

### Legal Structure

- **Registered Address:** HaHAgana, 15, Or Yehuda, Israel
- **Registered Legal Entity:** XPDiem Labs

### Team’s experience
TODO==============================
We are an experienced team, our current project is ..., in the past we've launched... platform, and before that we've developed...

### Team Code Repos
 TODO==============================



### Team LinkedIn Profiles

- https://www.linkedin.com/in/dmitry-briukhanov-60b2ab45/

## Development Roadmap

### Overview

- **Total Estimated Duration:** 12 months.
- **Total Effort:** 720 days.
- **Total Costs:** $30,000

### Milestone 1 - Pre-Alpha version of XPDiem Platform

- **Estimated Duration:** 3 months
- Working days **x** ppl. **:** 60 **x** 2
- Effort: 120 days
- **Costs:** $2,500

| Number | Deliverable | Specification |
| ------------- | ------------- | ------------- |
| 0. | System Architecture | Drafting the masterplan of the project |
| 1. | Smart Contract Editor Architecture | Design of the UI user workflow |
| 2. | Move-VM & Compiler Architecture | Elaboration of the valid Move code generation | 
| 3. | Polkadot Move palette interaction Architecture | Planning the data flows and the structure of the "intensions" | 
| 4. | Application Editor Architecture | Design of the UI user workflow and data flows from the above modules | 
| 5. | Compliance Validator Architecture | Design of the QA workflow for the above modules | 


### Milestone 2 — Alpha version of Move pallet

- **Estimated Duration:** 3 months
- Working days **x** ppl. **:** 60 **x** 2
- Effort: 120 days
- **Costs:** $2,500

| Number | Deliverable | Specification |
| ------------- | ------------- | ------------- |
| 0. | Smart Contract Builder | Developing the UI in React and BE in TypeScript|
| 1. | Alpha version of Move-VM Compiler | Writing the Move code generator in Rust | 
| 2. | Linking Move-VM Compiler | Test / debug Move code generation from the requests from the FE via BE |
| 3. | Alpha Polkadot Move Parathread | Writing the template Move functions for interaction with Polkadot |
| 4. | Polkadot Move palette | Testing the system in Kusama |
| 5. | Compliance Validator |  Developing automated test for the UI, BE, Move-VM, Polkadot Parathread interaction |


- **Estimated Duration:** 3 months
- Working days **x** ppl. **:** 60 **x** 2
- Effort: 120 days
- **Costs:** $2,500

| Number | Deliverable | Specification |
| ------------- | ------------- | ------------- |
| 0. | Application Builder (AB) | Developing the FE & BE in TypeScript |
| 1. | Linking the Smart Contract Builder (SCB) | Attaching the results of the SCB module to the product | 
| 2. | Linking the Polkadot Adapter (PA) | Testing data flows between the AB and PA |
| 3. | Compliance Validator | Writing automated test for the data flows between the AB, PA & the SCB |
| 4. | XPDiem experimental network | Developing a Kusama parathread for testing |
| 5. | Testing in Kusamsa | Testing all Polkadot related transactions in Kusama |


- **Estimated Duration:** 3 months
- Working days **x** ppl. **:** 60 **x** 2
- Effort: 120 days
- **Costs:** $2,500

| Number | Deliverable | Specification |
| ------------- | ------------- | ------------- |
| 0. | Integrating with Diem | Testing a resulting application in Diem test-net / main-net |
| 1. | Integrating with Kusama | Testing the resulting application in Kusama | 
| 2. | Integrating with Polkadot | Testing the PA in real Polkadot environment |
| 3. | Compliance Validator | Adding automated test for integrated modules |
| 4. | Documentation | Writing and publishing final documentation with all the amendments |
| 5. | Tutorials | Preparing and publishing tutorials with examples and exercises | 
| 6. | Product Launch | Publishing the XPDiem Platform for public use |

## Future Plans

The Polkadot adaptor pallet can be potentially refactored to accept an injectable interface to be used with any smart contract language, should the later meet the adaptee interface, expected by the adapter.

## Additional Information

None.

